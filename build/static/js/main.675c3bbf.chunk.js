(this["webpackJsonpivrit-client-app"]=this["webpackJsonpivrit-client-app"]||[]).push([[0],{110:function(e,t,n){},111:function(e,t,n){},147:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(84),a=n.n(r),i=(n(110),n(40)),s=n(13),o=n(6),l=(n(111),n(23)),u=n.n(l),j=n(1),d=[{name:"assistant",heName:"\u05e2\u05d5\u05d6\u05e8\u05ea \u05e7\u05d5\u05dc\u05d9\u05ea",to:"/assistant"},{name:"codex",heName:"\u05e7\u05d5\u05d3\u05e7\u05e1",to:"/codex"},{name:"playground",heName:"\u05de\u05d2\u05e8\u05e9 \u05de\u05e9\u05d7\u05e7\u05d9\u05dd",to:"/playground"},{name:"docs",heName:"\u05d3\u05d5\u05e7\u05d5\u05de\u05e0\u05d8\u05e6\u05d9\u05d4",to:"/docs"},{name:"examples",heName:"\u05d3\u05d5\u05d2\u05de\u05d0\u05d5\u05ea",to:"/examples"}];function b(e){var t=e.name,n=e.heName,r=e.path,a=Object(l.useSpeechRecognition)().listening,o=Object(s.f)();return Object(c.useEffect)((function(){a&&"/assistant"!==o.pathname&&a&&(d.find((function(e){return e.to===o.pathname}))||"/"===o.pathname)&&u.a.stopListening()}),[a,o.pathname]),Object(j.jsx)("li",{children:Object(j.jsx)(i.c,{to:r,title:t,exact:!0,children:n})})}function h(){return Object(j.jsx)("ul",{children:d.map((function(e){var t=e.name,n=e.heName,c=e.to;return Object(j.jsx)(b,{name:t,heName:n,path:c},t)}))})}function p(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){var e=function(){return r(window.scrollY)};return document.addEventListener("scroll",e),function(){return document.removeEventListener("scroll",e)}}),[n]),Object(j.jsxs)("nav",{className:"".concat(n>100?"line":""),children:[Object(j.jsx)("div",{className:"logo_wrap",children:Object(j.jsx)(i.b,{to:"/",children:Object(j.jsx)("span",{children:Object(j.jsx)("img",{className:"logo",src:"./logo.png",alt:"logo"})})})}),Object(j.jsx)("div",{className:"list_wrap",children:Object(j.jsx)(h,{})})]})}var x=n(167),O=n(175),m=n(177),f=n(176);function g(){return Object(j.jsxs)(O.a,{sx:{display:"flex",flexDirection:"column",minHeight:"calc(100vh - 5rem)"},children:[Object(j.jsx)(x.a,{}),Object(j.jsxs)(f.a,{component:"main",sx:{mt:8,mb:2},maxWidth:"sm",children:[Object(j.jsx)(m.a,{variant:"h2",component:"h1",gutterBottom:!0,children:"\u05d1\u05e8\u05d5\u05db\u05d9\u05dd \u05d4\u05d1\u05d0\u05d9\u05dd \u05dc-IVRIT"}),Object(j.jsx)(m.a,{variant:"h5",component:"h2",gutterBottom:!0,children:"API \u05dc\u05de\u05d9\u05d3\u05e2 \u05d1\u05e2\u05d1\u05e8\u05d9\u05ea \u05d1\u05d6\u05de\u05df \u05d0\u05de\u05ea"}),Object(j.jsxs)(m.a,{variant:"body1",children:["\u05dc\u05d4\u05ea\u05e7\u05e0\u05ea \u05d4\u05d7\u05d1\u05d9\u05dc\u05d4 ",Object(j.jsx)("span",{dir:"ltr",children:"(Node.js)"})]}),Object(j.jsx)(m.a,{variant:"h5",gutterBottom:!0,children:Object(j.jsx)("code",{style:{backgroundColor:"lightgray"},children:"npm i ivrit"})}),Object(j.jsx)("div",{className:"list_wrap",children:Object(j.jsx)(h,{})})]})]})}function v(){return Object(j.jsx)("div",{children:"Docs page"})}var y=n(25),w=n.n(y),C=n(18),k=n(38),S=n(30),N=n.n(S),E=[{name:"quickAnswer",heName:"\u05ea\u05e9\u05d5\u05d1\u05d4 \u05de\u05d4\u05d9\u05e8\u05d4",description:"\u05ea\u05e9\u05d5\u05d1\u05d4 \u05de\u05d4\u05d9\u05e8\u05d4 \u05dc\u05e9\u05d0\u05dc\u05d5\u05ea \u05d9\u05d3\u05e2",url:"",result:[]},{name:"lyrics",heName:"\u05de\u05d9\u05dc\u05d9\u05dd \u05dc\u05e9\u05d9\u05e8\u05d9\u05dd",description:"\u05de\u05d9\u05dc\u05d9\u05dd \u05dc\u05e9\u05d9\u05e8\u05d9\u05dd \u05d1\u05e2\u05d1\u05e8\u05d9\u05ea \u05d5\u05d1\u05dc\u05d5\u05e2\u05d6\u05d9\u05ea",url:"",result:[]},{name:"news",heName:"\u05d7\u05d3\u05e9\u05d5\u05ea",description:"\u05d7\u05d3\u05e9\u05d5\u05ea \u05d0\u05d7\u05e8\u05d5\u05e0\u05d5\u05ea \u05dc\u05e4\u05d9 \u05de\u05d9\u05dc\u05d5\u05ea \u05de\u05e4\u05ea\u05d7",url:"",result:[]}];function L(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(E),i=Object(o.a)(a,2),s=i[0],l=i[1],u=Object(c.useState)(s[0].name),d=Object(o.a)(u,2),b=d[0],h=d[1],p=Object(c.useState)(null),x=Object(o.a)(p,2),O=x[0],m=x[1],f="https://ivrit.herokuapp.com";function g(){return(g=Object(k.a)(w.a.mark((function e(t){var n,c,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r(""),l((function(e){return e.map((function(e){return Object(C.a)(Object(C.a)({},e),{},{result:[]})}))})),n=s.find((function(e){return e.name===b})),e.next=6,N.a.get(n.url);case 6:return c=e.sent,a=c.data,l((function(e){return e.map((function(e){return e.name===n.name?Object(C.a)(Object(C.a)({},n),{},{result:a}):e}))})),e.abrupt("return",v(n));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){"news"===e.name&&m(e.result.map((function(e,t){return Object(j.jsx)("div",{children:Object(j.jsx)("a",{href:e.link,children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:e.header}),Object(j.jsxs)("p",{children:[Object(j.jsx)("code",{children:e.origin}),"*",Object(j.jsx)("small",{children:e.time})]})]})})},t)}))),"lyrics"===e.name&&m(e.result.map((function(e,t){return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:e.singer}),Object(j.jsx)("p",{children:e.songName}),Object(j.jsx)("p",{children:e.lyric})]})},t)}))),"quickAnswer"===e.name&&m(e.result.map((function(e,t){return"string"===typeof e?Object(j.jsx)("p",{children:e},t):Object(j.jsx)("ul",{children:Object.values(e).map((function(e,t){return Object(j.jsx)("li",{children:e},t)}))},t)})))}return Object(c.useEffect)((function(){b&&l((function(e){return e.map((function(e){return Object(C.a)(Object(C.a)({},e),{},{url:"".concat(f,"/api/").concat(e.name,"?q=").concat(n)})}))}))}),[b,f,n]),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"services",children:"\u05d1\u05d7\u05d9\u05e8\u05ea \u05e1\u05d5\u05d2 \u05e9\u05d9\u05e8\u05d5\u05ea:"}),Object(j.jsx)("select",{onChange:function(e){return h(e.target.value)},name:"services",id:"services",children:null===s||void 0===s?void 0:s.map((function(e,t){return Object(j.jsx)("option",{value:e.name,children:e.heName},t)}))})]}),Object(j.jsx)("div",{children:Object(j.jsx)("textarea",{value:n,onChange:function(e){return r(e.target.value)},cols:"100",rows:"2",placeholder:b?s.find((function(e){return e.name===b})).description:"\u05d4\u05d6\u05e0\u05ea \u05e9\u05d0\u05dc\u05d4"})}),Object(j.jsx)("button",{type:"submit",onClick:function(e){return g.apply(this,arguments)},disabled:"news"!==b&&n.length<1,children:"\u05e7\u05d1\u05dc\u05ea \u05ea\u05e9\u05d5\u05d1\u05d4 \u05d1\u05e2\u05d1\u05e8\u05d9\u05ea"}),O?Object(j.jsx)("div",{children:O}):null]})}function D(){return Object(j.jsx)("div",{children:"Examples page"})}function I(){return Object(j.jsx)("div",{children:"NotFound"})}var T,F=n(90),R=n.n(F),A=n(66),q=n.n(A),W=n(171),B=n(178),_=n(172),J=n(170),K=n(92),P=n.n(K),U=n(93),H=n.n(U);function V(e){var t=e.value,n=e.hendleKeyDown,c=e.hendleChange,r=e.hendleClick,a=e.listening,i=e.loading;return Object(j.jsx)(W.a,{sx:{maxWidth:"50%",padding:"1rem",border:0},endAdornment:Object(j.jsx)(B.a,{position:"end",children:Object(j.jsx)(_.a,{color:"secondary",variant:a?"dot":null,overlap:"circular",badgeContent:a?" ":null,children:Object(j.jsx)(J.a,{variant:a?"extended":"circular",disabled:i,onClick:r,maxwidth:"sm",children:a?Object(j.jsx)(P.a,{}):Object(j.jsx)(H.a,{})})})}),type:"text",fullWidth:!0,autoFocus:!0,placeholder:"\u05d0\u05e4\u05e9\u05e8 \u05dc\u05e9\u05d0\u05d5\u05dc \u05d0\u05d5\u05ea\u05d9 \u05db\u05dc \u05d3\u05d1\u05e8, \u05d0\u05e2\u05e9\u05d4 \u05db\u05de\u05d9\u05d8\u05d1 \u05d9\u05db\u05d5\u05dc\u05ea\u05d9!",value:t,onChange:c,onKeyDown:n})}T="/api";var Y=Object(S.create)({baseURL:T});function z(){var e=N.a.CancelToken.source(),t=Object(c.useState)(null),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(!1),s=Object(o.a)(i,2),d=s[0],b=s[1],h=Object(c.useState)(null),p=Object(o.a)(h,2),x=p[0],f=p[1],g=Object(c.useState)(""),v=Object(o.a)(g,2),y=v[0],C=v[1],S=Object(l.useSpeechRecognition)(),E=S.transcript,L=S.interimTranscript,D=S.finalTranscript,I=S.listening,T=S.resetTranscript,F=S.browserSupportsSpeechRecognition,A=u.a.startListening,W=u.a.stopListening,B=u.a.abortListening,_=Object(c.useCallback)((function(){return W()}),[W]),J=(Object(c.useCallback)((function(){return B()}),[B]),Object(c.useCallback)(function(){var t=Object(k.a)(w.a.mark((function t(n){var c,r,i,s,o;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,f(null),t.next=4,Y.get("/answer?q=".concat(n),{CancelToken:e.token});case 4:return c=t.sent,r=c.config,t.next=8,Y.get("/dataAnswer",{CancelToken:e.token});case 8:i=t.sent,s=i.data,console.log(s),o=r.baseURL,a("".concat(o,"/answer?q=").concat(n)),f(s.result),T(),t.next=23;break;case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0),f("\u05dc\u05d0 \u05de\u05e6\u05d0\u05ea\u05d9 \u05ea\u05e9\u05d5\u05d1\u05d4, \u05d0\u05d1\u05dc \u05d0\u05e4\u05e9\u05e8 \u05dc\u05e0\u05e1\u05d5\u05ea \u05e9\u05d5\u05d1 \u05e2\u05dd \u05d1\u05d9\u05d8\u05d5\u05d9 \u05d3\u05d5\u05de\u05d4"),T(),f(null);case 23:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}(),[T,e]));if(Object(c.useEffect)((function(){"\u05db\u05d9\u05d1\u05d5\u05d9"===D&&(f(null),a(null),b(!1),T(),_())}),[D,T,_]),Object(c.useEffect)((function(){D===E&&""!==D&&"\u05db\u05d9\u05d1\u05d5\u05d9"!==D&&(b(!0),J(D),b(!1))}),[D,E,J]),!F)return Object(j.jsx)("span",{children:"Browser doesn't support speech recognition."});function K(){_(),b(!1)}return Object(j.jsxs)(O.a,{sx:{display:"flex",flexDirection:"column",minHeight:"calc(100vh - 5rem)",justifyContent:"center",gap:"1.5rem",alignItems:"center",textAlign:"center"},children:[Object(j.jsx)(O.a,{children:Object(j.jsx)(q.a,{onInit:function(e){return e.typeString("\u05d0\u05e4\u05e9\u05e8 \u05dc\u05d4\u05e7\u05dc\u05d9\u05d3 \u05e9\u05d0\u05dc\u05d4 \u05d0\u05d5 \u05e4\u05e9\u05d5\u05d8 \u05dc\u05dc\u05d7\u05d5\u05e5 \u05e2\u05dc \u05d4\u05db\u05e4\u05ea\u05d5\u05e8 \u05d5\u05dc\u05d4\u05ea\u05d7\u05d9\u05dc \u05dc\u05d3\u05d1\u05e8").start()},options:{delay:40,autoStart:!0}})}),Object(j.jsx)(V,{value:y,loading:d,hendleClick:I?_:function(){return A({continuous:!0,interimResults:!0,language:"iw-IL"})},hendleChange:function(e){return C(e.target.value)},listening:I,hendleKeyDown:function(e){"Enter"===e.key&&(b(!0),J(y),C(""),b(!1))}}),Object(j.jsxs)("div",{children:[Object(j.jsx)(m.a,{fontWeight:400,children:L||D}),x&&Object(j.jsx)(O.a,{sx:{display:"flex",flexDirection:"column",maxWidth:400,justifyContent:"center",alignItems:"center",textAlign:"center"},children:Object(j.jsx)(q.a,{onInit:function(e){return e.typeString(x).start()},options:{delay:40,autoStart:!0}})}),r&&Object(j.jsx)("div",{style:{marginTop:"1rem"},children:Object(j.jsx)(R.a,{src:r,autoPlay:!0,controls:!0,onPlay:function(){return K()},onEnded:function(){return K()},onAbort:function(){return K()},onPause:function(){return K()},onError:function(){return K()}})})]})]})}function G(){return Object(j.jsxs)(m.a,{variant:"body2",color:"text.secondary",children:["Copyright \xa9 ",Object(j.jsx)("a",{href:"https://guribs.com/",target:"_blank",children:"guribs"})," ",(new Date).getFullYear(),"."]})}var M=function(e){return"light"===e.palette.mode?e.palette.grey[200]:e.palette.grey[800]};function Q(){return Object(j.jsx)(O.a,{style:{position:"fixed",left:0,bottom:0,width:"100%"},component:"footer",sx:{py:3,px:2,mt:"auto",backgroundColor:M},children:Object(j.jsxs)(f.a,{maxWidth:"sm",children:[Object(j.jsxs)(m.a,{variant:"body1",children:['\u05e0\u05d1\u05e0\u05d4 \u05d1\u05d0\u05d4\u05d1\u05d4 \u05e2"\u05d9'," ",Object(j.jsx)("a",{target:"_blank",href:"https://github.com/gurelbs",children:"\u05d2\u05d5\u05e8\u05d0\u05dc \u05d1\u05df \u05e9\u05d1\u05ea"}),"."]}),Object(j.jsx)(G,{})]})})}var X=n(94);function Z(){var e=Object(l.useSpeechRecognition)(),t=(e.finalTranscript,e.listening),n=u.a.startListening,r=u.a.stopListening,a=(u.a.abortListening,function(){return n({continuous:!0,interimResults:!0,language:"iw-IL"})}),i=Object(c.useCallback)((function(){return r()}),[r]),s=(N.a.CancelToken.source(),Object(c.useState)("")),d=Object(o.a)(s,2),b=d[0],h=d[1],p=Object(c.useState)(!1),x=Object(o.a)(p,2),m=x[0],f=x[1],g=function(e,t){var n="ivrit-"+e,r=Object(c.useState)((function(){var e=localStorage.getItem(n);return null!=e?JSON.parse(e):"function"===typeof t?t():t})),a=Object(o.a)(r,2),i=a[0],s=a[1];return Object(c.useEffect)((function(){localStorage.setItem(n,JSON.stringify(i))}),[n,i]),[i,s]}("codex",""),v=Object(o.a)(g,2),y=v[0],C=v[1];function S(){return(S=Object(k.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("http://localhost:4000/api/codex",{q:b});case 3:t=e.sent,n=t.data,console.log(n.answer),C(n.answer),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(j.jsxs)(O.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"},children:[Object(j.jsx)(V,{value:b,loading:m,hendleClick:function(){return t?i:a},hendleChange:function(e){return h(e.target.value)},listening:t,hendleKeyDown:function(e){"Enter"===e.key&&(f(!0),function(){S.apply(this,arguments)}(b),h(""),f(!1))}}),Object(j.jsx)(X.a,{height:"50vh",theme:"vs-dark",value:y,options:{selectOnLineNumbers:!0,roundedSelection:!1,readOnly:!1},defaultValue:y,onChange:C})]})}var $=n(95),ee=n(174),te=Object($.a)({direction:"rtl"});function ne(){var e=[{path:"/",name:"homepage",Component:g},{path:"/docs",name:"documentation",Component:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p,{}),Object(j.jsx)(v,{})]})}},{path:"/playground",name:"recognition",Component:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p,{}),Object(j.jsx)(L,{})]})}},{path:"/examples",name:"homepage",Component:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p,{}),Object(j.jsx)(D,{})]})}},{path:"/assistant",name:"homepage",Component:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p,{}),Object(j.jsx)(z,{})]})}},{path:"/codex",name:"codex",Component:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p,{}),Object(j.jsx)(Z,{})]})}}];return Object(j.jsx)(ee.a,{theme:te,children:Object(j.jsxs)(O.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(j.jsx)(x.a,{}),Object(j.jsx)(i.a,{getUserConfirmation:function(e,t){return t(window.confirm(e))},children:Object(j.jsx)(O.a,{sx:{display:"flex",flexDirection:"column",marginTop:"5rem"},children:Object(j.jsxs)(s.c,{children:[e.map((function(e){var t=e.path,n=e.Component;return Object(j.jsx)(s.a,{component:n,path:t,exact:!0},t)})),Object(j.jsx)(s.a,{component:I})]})})}),Object(j.jsx)(Q,{})]})})}a.a.render(Object(j.jsx)(ne,{}),document.getElementById("root"))}},[[147,1,2]]]);
//# sourceMappingURL=main.675c3bbf.chunk.js.map